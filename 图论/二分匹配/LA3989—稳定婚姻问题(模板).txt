#include <cstdio>
#include <queue>

using namespace std;

const int maxn = 1000+10;
int pref[maxn][maxn],order[maxn][maxn],Next[maxn];
int future_husband[maxn],future_wife[maxn];
queue<int>q;        //未订婚的男士队列

void engage(int man,int woman)
{
    int m = future_husband[woman];
    if( m ){                     //女士有现任未婚夫m
        future_wife[m] = 0;      //抛弃m
        q.push(m);               //m加入未订婚男士队列
    }
    future_wife[man] = woman;
    future_husband[woman] = man;
}

int main()
{
    int T;
    scanf("%d",&T);
    while(T--){
        int n;
        scanf("%d",&n);

        for( int i = 1 ; i <= n ; ++i ){
            for( int j = 1 ; j <= n ; ++j )
                scanf("%d",&pref[i][j]);       //编号为i的男士第j喜欢的人
            Next[i] = 1;                       //接下来向排名为1的女士求婚
            future_wife[i] = 0;                //没有未婚妻
            q.push(i);
        }

        for( int i = 1 ; i <= n ; ++i ){
            for( int j = 1 ; j <= n ; ++j ){
                int x;
                scanf("%d",&x);
                order[i][x] = j;               //在编号为i的女士心目中，编号为x的男士的排名
            }
            future_husband[i] = 0;             //没有未婚夫
        }

        while(!q.empty()){
            int man = q.front(); q.pop();
            int woman = pref[man][Next[man]++];
            if( !future_husband[woman] )
                engage(man,woman); //女士没有未婚夫，直接订婚
            else if(order[woman][man] < order[woman][future_husband[woman]])
                engage(man,woman); //替代女士的现任未婚夫
            else q.push(man);      //男人悲剧
        }

        while(!q.empty()) q.pop();
        for( int i = 1 ; i <= n ; ++i ) printf("%d\n",future_wife[i]);
        if(T) printf("\n");
    }
    return 0;
}
